<!--
   index.html
   
   Copyright 2017 wesley werner <wesley.werner@gmail.com>
   
   This program is free software: you can redistribute it and/or modify
   it under the terms of the GNU General Public License as published by
   the Free Software Foundation, either version 3 of the License, or
   any later version.
   
   This program is distributed in the hope that it will be useful,
   but WITHOUT ANY WARRANTY; without even the implied warranty of
   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   GNU General Public License for more details.
   
   You should have received a copy of the GNU General Public License
   along with this program. If not, see http://www.gnu.org/licenses/.
   
-->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
	<title>untitled</title>
	<meta http-equiv="content-type" content="text/html;charset=utf-8" />
	<meta name="generator" content="Geany 1.24.1" />
  <link rel="stylesheet" type="text/css" href="http://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
</head>

<body>

  <div id="app">
    
    <select v-model="displayFactor">
      <option value="1">1 litre bottle</option>
      <option value="5">5 litre can</option>
    </select>

    <div v-for="category in categories">

      <h3 v-show="category.visible">{{ category.name }}</h3>

      <div v-for="entry in category.entries">

        <transition enter-active-class="animated lightSpeedIn">
          
          <div v-show="entry.visible">

            <label>
              {{ entry.title }} {{ entry.period == 1 ? 'per day' : 'per week' }}
            </label>

            <input type="number" v-model="entry.qty">

            <select v-model="entry.ratio" v-show="entry.options">
              <option v-for="option in entry.options"
                v-bind:value="option.ratio">{{ option.text }}</option>
            </select>

            <div>Total: {{ Math.round( entry.total / displayFactor ) }}</div>
            
            <transition-group 
              enter-active-class="animated fadeIn"
              leave-active-class="animated fadeOut">
              <span v-for="n in Math.round( entry.total / displayFactor )" v-bind:key="n">
                *
              </span>
            </transition-group>

          </div>
          
        </transition>
        
      </div>

    </div>

    <button v-on:click="next">Next</button>
    <h1 v-show="allAnswered">All Done</h1>

  </div>

  <script src="http://cdnjs.cloudflare.com/ajax/libs/vue/2.1.10/vue.min.js"></script>
  <script src="js/water-usage.js"></script>

</body>

</html>
